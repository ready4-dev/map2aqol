<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Economic analysis • youthu</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Economic analysis">
<meta property="og:description" content="youthu">
<meta property="og:image" content="/logo.png">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">youthu</a>
        <span class="version label label-danger" data-toggle="tooltip" data-placement="bottom" title="Unreleased version">0.0.0.9048</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../articles/youthu.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/Data_Integrity.html">Data Integrity Tools</a>
    </li>
    <li>
      <a href="../articles/Economic_Analysis.html">Economic analysis</a>
    </li>
    <li>
      <a href="../articles/Prediction_With_Mdls.html">Predict Adolescent AQoL-6D</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/ready4-dev/youthu/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><script src="Economic_Analysis_files/accessible-code-block-0.0.1/empty-anchor.js"></script><script src="Economic_Analysis_files/kePrint-0.0.1/kePrint.js"></script><link href="Economic_Analysis_files/lightable-0.0.1/lightable.css" rel="stylesheet">
<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Economic analysis</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/ready4-dev/youthu/blob/master/vignettes/Economic_Analysis.Rmd"><code>vignettes/Economic_Analysis.Rmd</code></a></small>
      <div class="hidden name"><code>Economic_Analysis.Rmd</code></div>

    </div>

    
    
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://ready4-dev.github.io/youthu/">youthu</a></span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/base/Random.html">set.seed</a></span><span class="op">(</span><span class="fl">1234</span><span class="op">)</span></code></pre></div>
<div id="introduction" class="section level1">
<h1 class="hasAnchor">
<a href="#introduction" class="anchor"></a>Introduction</h1>
<div id="motivation" class="section level2">
<h2 class="hasAnchor">
<a href="#motivation" class="anchor"></a>Motivation</h2>
<p>The main motivation behind the youthu package is to extend the types of economic analysis that can be undertaken with both single group (e.g. pilot study, health service records) and matched groups (e.g. trial) datasets that do not include measures of health utility.</p>
</div>
<div id="example-datasets" class="section level2">
<h2 class="hasAnchor">
<a href="#example-datasets" class="anchor"></a>Example datasets</h2>
<p>To illustrate the input data requirements and the practical application of youthu functions, we adapt a <a href="https://ready4-dev.github.io/TTU/articles/Replication_DS.html">replication dataset from the youthu’s sister package TTU</a> to create synthetic (fake) single group and matched group datasets. To do so, we first make a list object <code>ds_smry_ls</code> that summarises the desired features of these datasets, such as:</p>
<ul>
<li>the names of the predictors for utility to be included in the dataset;</li>
<li>the name of variables for unique unit identifier, data collection round, data collection date, costs and health utility measure;</li>
<li>(for matched dataset only) the name of the variable for comparison group and the allowable values for that variable;</li>
<li>the allowed values of the data collection round variable, the dates during which baseline data measures are collected (randomly sampled from a sequence of 180 consecutive days from the last year) and distribution parameters for the duration between baseline and follow-up timepoints (sampled from a truncated normal distribution, bounded between 80 and 110 days);</li>
<li>
<strong>population</strong> (not sample) parameters to generate gamma distributed costs for periods prior to study entry(mean $300) and between baseline and follow-up measurements (mean $1500) for the whole single group dataset or the control arm of a matched dataset;</li>
</ul>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">ds_smry_ls</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span>bl_start_date_dtm <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Sys.time.html">Sys.Date</a></span><span class="op">(</span><span class="op">)</span> <span class="op">-</span> <span class="fu">lubridate</span><span class="fu">::</span><span class="fu"><a href="http://lubridate.tidyverse.org/reference/period.html">days</a></span><span class="op">(</span><span class="fl">300</span><span class="op">)</span>,
                   bl_end_date_dtm <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Sys.time.html">Sys.Date</a></span><span class="op">(</span><span class="op">)</span> <span class="op">-</span> <span class="fu">lubridate</span><span class="fu">::</span><span class="fu"><a href="http://lubridate.tidyverse.org/reference/period.html">days</a></span><span class="op">(</span><span class="fl">120</span><span class="op">)</span>,
                   cmprsn_var_nm_1L_chr <span class="op">=</span> <span class="st">"study_arm_chr"</span>,
                   cmprsn_groups_chr <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"Intervention"</span>,<span class="st">"Control"</span><span class="op">)</span>,
                   costs_mean_dbl <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">300</span>,<span class="fl">1500</span><span class="op">)</span>,
                   costs_sd_dbl <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">100</span>,<span class="fl">120</span><span class="op">)</span>,
                   costs_var_nm_1L_chr <span class="op">=</span> <span class="st">"costs_dbl"</span>,
                   date_var_nm_1L_chr <span class="op">=</span> <span class="st">"date_psx"</span>,
                   duration_args_ls <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span>a <span class="op">=</span> <span class="fl">80</span>, b <span class="op">=</span> <span class="fl">110</span>, mean <span class="op">=</span> <span class="fl">90</span>, sd <span class="op">=</span> <span class="fl">7</span><span class="op">)</span>,
                   duration_fn <span class="op">=</span> <span class="fu">truncnorm</span><span class="fu">::</span><span class="va"><a href="https://rdrr.io/pkg/truncnorm/man/dtruncnorm.html">rtruncnorm</a></span>,
                   id_var_nm_1L_chr <span class="op">=</span> <span class="st">"fkClientID"</span>,
                   predr_var_nms <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"PHQ9"</span>, <span class="st">"SOFAS"</span><span class="op">)</span>,
                   round_var_nm_1L_chr <span class="op">=</span> <span class="st">"round"</span>,
                   round_lvls_chr <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"Baseline"</span>,<span class="st">"Follow-up"</span><span class="op">)</span>, 
                   utl_var_nm_1L_chr <span class="op">=</span> <span class="st">"AQoL6D_HU"</span><span class="op">)</span></code></pre></div>
<p>We pass both the <code>ds_smry_ls</code> summary list and the <code>replication_popl_tb</code> replication dataset to the <code class="sourceCode r">make_sngl_grp_ds</code> function to create an example single group dataset.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">sngl_grp_ds_tb</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/make_sngl_grp_ds.html">make_sngl_grp_ds</a></span><span class="op">(</span><span class="fu">TTU</span><span class="fu">::</span><span class="va"><a href="https://ready4-dev.github.io/TTU/reference/replication_popl_tb.html">replication_popl_tb</a></span>,ds_smry_ls <span class="op">=</span> <span class="va">ds_smry_ls</span><span class="op">)</span></code></pre></div>
<p>We can split a subset of our single group dataset into two propensity score matched groups - one each for intervention and control - using the <code class="sourceCode r">make_matched_ds</code> function. We also use this function to build in our assumptions about group differences in changes in PHQ9, SOFAS and costs measured at follow-up. The below example assumes <strong>population</strong> (not sample) mean change differences between Intervention and Control arms of -2 for PHQ9, -2 for SOFAS and +$300 for costs.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">matched_ds_tb</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/make_matched_ds.html">make_matched_ds</a></span><span class="op">(</span><span class="va">sngl_grp_ds</span>, 
                                 cmprsn_smry_tb <span class="op">=</span> <span class="fu">tibble</span><span class="fu">::</span><span class="fu"><a href="https://tibble.tidyverse.org/reference/tibble.html">tibble</a></span><span class="op">(</span>var_nms_chr <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="va">ds_smry_ls</span><span class="op">$</span><span class="va">predr_var_nms</span>, <span class="va">ds_smry_ls</span><span class="op">$</span><span class="va">costs_var_nm_1L_chr</span><span class="op">)</span>,
                                 fns_ls <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span><span class="va">rnorm</span>,<span class="va">rnorm</span>,<span class="va">rnorm</span><span class="op">)</span>,
                                 abs_mean_diff_dbl <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">3</span>,<span class="fl">2</span>,<span class="fl">300</span><span class="op">)</span>,
                                 diff_sd_dbl <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">2</span>,<span class="fl">2</span>,<span class="fl">200</span><span class="op">)</span>,
                                 multiplier_dbl <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="op">-</span><span class="fl">1</span>,<span class="op">-</span><span class="fl">1</span>,<span class="fl">1</span><span class="op">)</span>,
                                 min_dbl <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">0</span>,<span class="fl">0</span>,<span class="fl">0</span><span class="op">)</span>,
                                 max_dbl <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">27</span>,<span class="fl">100</span>,<span class="cn">Inf</span><span class="op">)</span>,
                                 integer_lgl <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="cn">T</span>,<span class="cn">T</span>,<span class="cn">F</span><span class="op">)</span><span class="op">)</span>, 
                                 ds_smry_ls <span class="op">=</span> <span class="va">ds_smry_ls</span><span class="op">)</span></code></pre></div>
<pre><code>## Joining, by = c("fkClientID", "study_arm_chr")</code></pre>
</div>
</div>
<div id="economic-analysis-of-matched-group-datasets" class="section level1">
<h1 class="hasAnchor">
<a href="#economic-analysis-of-matched-group-datasets" class="anchor"></a>Economic analysis of matched group datasets</h1>
<div id="data-requirements" class="section level2">
<h2 class="hasAnchor">
<a href="#data-requirements" class="anchor"></a>Data requirements</h2>
<p>The synthetic matched dataset we generated includes 319 matched comparisons, with each comparison containing baseline and follow-up records for one intervention arm participant and one control arm participant. The first few records are as follows.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">matched_ds_tb</span> <span class="op">%&gt;%</span> <span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span><span class="op">(</span><span class="op">)</span></code></pre></div>
<pre><code>## # A tibble: 6 x 9
##   fkClientID round date_psx   duration_prd  PHQ9 SOFAS costs_dbl study_arm_chr
##   &lt;chr&gt;      &lt;fct&gt; &lt;date&gt;     &lt;Period&gt;     &lt;int&gt; &lt;int&gt;     &lt;dbl&gt; &lt;chr&gt;        
## 1 Participa… Base… 2020-05-22 0S               6    72      590. Control      
## 2 Participa… Base… 2020-05-19 0S               2    76      651. Intervention 
## 3 Participa… Foll… 2020-08-25 95d 0H 0M 0S     0    80     1378. Control      
## 4 Participa… Foll… 2020-08-13 86d 0H 0M 0S     0    81     2126. Intervention 
## 5 Participa… Base… 2020-05-10 0S               0    80      412. Control      
## 6 Participa… Base… 2020-09-15 0S               1    57      652. Intervention 
## # … with 1 more variable: match_idx_int &lt;int&gt;</code></pre>
<p>This dataset contains features that make it possible to use in conjunction with youthu’s economic analysis functions. Specifically these requirements are that the dataset must:</p>
<ul>
<li>
<a href="Prediction_With_Mdls.html">include one or more of the predictors used in the youthu models</a> (in this case PHQ9 and SOFAS);</li>
<li>include variables for unique study participant identifier, data collection round, data collection date, interval between baseline and follow-up, study arm assignment and record matching; and</li>
<li>be in long format where each row represents <strong><em>either</em></strong> a baseline or follow-up measurement for a unique study participant.</li>
</ul>
<p>The synthetic matched dataset also contains a cost variable, which is a requirement for most, though not all, of the economic analyses that can be undertaken with youthu.</p>
</div>
<div id="limitations-of-datasets-without-measures-of-health-utility" class="section level2">
<h2 class="hasAnchor">
<a href="#limitations-of-datasets-without-measures-of-health-utility" class="anchor"></a>Limitations of datasets without measures of health utility</h2>
<p>A notable omission from the fake study dataset is any measure of utility. This omission means that, in the absence of using mapping algorithms such as those included with youthu, the most feasible types of economic evaluation to apply to this dataset would likely be cost-consequence analysis (where a synopsis of the differences in a range of measures are presented alongside cost differences for a decision maker to interpret subjectively) and cost-effectiveness analysis (where a statistic - the incremental cost-effectiveness ratio or ICER - is calculated by dividing differences in costs by differences in a single outcome measure).</p>
<p>These types of economic analyses can be relatively simple to interpret if either the intervention or control arm is simultaneously cheaper and more effective across all included outcome measures. However, these conditions don’t hold in our sample data.</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/summary.html">summary</a></span><span class="op">(</span><span class="op">(</span><span class="va">matched_ds_tb</span> <span class="op">%&gt;%</span> <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span><span class="op">(</span><span class="va">study_arm_chr</span> <span class="op">==</span> <span class="st">"Control"</span> <span class="op">&amp;</span> <span class="va">round</span> <span class="op">==</span> <span class="st">"Baseline"</span><span class="op">)</span><span class="op">)</span><span class="op">[</span><span class="fl">5</span><span class="op">:</span><span class="fl">6</span><span class="op">]</span><span class="op">)</span></code></pre></div>
<pre><code>##       PHQ9           SOFAS      
##  Min.   : 0.00   Min.   :38.00  
##  1st Qu.: 8.00   1st Qu.:60.00  
##  Median :12.00   Median :66.00  
##  Mean   :12.49   Mean   :65.62  
##  3rd Qu.:17.00   3rd Qu.:71.00  
##  Max.   :27.00   Max.   :89.00</code></pre>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/summary.html">summary</a></span><span class="op">(</span><span class="op">(</span><span class="va">matched_ds_tb</span> <span class="op">%&gt;%</span> <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span><span class="op">(</span><span class="va">study_arm_chr</span> <span class="op">==</span> <span class="st">"Control"</span> <span class="op">&amp;</span> <span class="va">round</span> <span class="op">==</span> <span class="st">"Follow-up"</span><span class="op">)</span><span class="op">)</span><span class="op">[</span><span class="fl">5</span><span class="op">:</span><span class="fl">7</span><span class="op">]</span><span class="op">)</span></code></pre></div>
<pre><code>##       PHQ9           SOFAS         costs_dbl   
##  Min.   : 0.00   Min.   :39.00   Min.   :1201  
##  1st Qu.: 5.00   1st Qu.:64.00   1st Qu.:1429  
##  Median : 9.00   Median :71.00   Median :1500  
##  Mean   : 9.48   Mean   :70.16   Mean   :1501  
##  3rd Qu.:13.00   3rd Qu.:77.00   3rd Qu.:1577  
##  Max.   :25.00   Max.   :98.00   Max.   :1855</code></pre>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/summary.html">summary</a></span><span class="op">(</span><span class="op">(</span><span class="va">matched_ds_tb</span> <span class="op">%&gt;%</span> <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span><span class="op">(</span><span class="va">study_arm_chr</span> <span class="op">==</span> <span class="st">"Intervention"</span> <span class="op">&amp;</span> <span class="va">round</span> <span class="op">==</span> <span class="st">"Baseline"</span><span class="op">)</span><span class="op">)</span><span class="op">[</span><span class="fl">5</span><span class="op">:</span><span class="fl">6</span><span class="op">]</span><span class="op">)</span></code></pre></div>
<pre><code>##       PHQ9          SOFAS      
##  Min.   : 0.0   Min.   :36.00  
##  1st Qu.: 8.5   1st Qu.:59.00  
##  Median :13.0   Median :65.00  
##  Mean   :12.8   Mean   :65.25  
##  3rd Qu.:17.5   3rd Qu.:72.00  
##  Max.   :27.0   Max.   :88.00</code></pre>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/summary.html">summary</a></span><span class="op">(</span><span class="op">(</span><span class="va">matched_ds_tb</span> <span class="op">%&gt;%</span> <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span><span class="op">(</span><span class="va">study_arm_chr</span> <span class="op">==</span> <span class="st">"Intervention"</span> <span class="op">&amp;</span> <span class="va">round</span> <span class="op">==</span> <span class="st">"Follow-up"</span><span class="op">)</span><span class="op">)</span><span class="op">[</span><span class="fl">5</span><span class="op">:</span><span class="fl">7</span><span class="op">]</span><span class="op">)</span></code></pre></div>
<pre><code>##       PHQ9            SOFAS         costs_dbl   
##  Min.   : 0.000   Min.   :40.00   Min.   :1202  
##  1st Qu.: 1.000   1st Qu.:60.00   1st Qu.:1633  
##  Median : 6.000   Median :66.00   Median :1780  
##  Mean   : 6.978   Mean   :67.13   Mean   :1793  
##  3rd Qu.:11.000   3rd Qu.:74.00   3rd Qu.:1959  
##  Max.   :25.000   Max.   :94.00   Max.   :2429</code></pre>
<p>The results summarised above create some significant barriers to meaningfully interpreting economic evaluations that are based on cost-consequence or cost-effectiveness analysis:</p>
<ul>
<li><p>A cost-effectiveness analysis in which change in PHQ-9 was the benefit measure would be difficult to interpret as the Intervention arm is both more effective and more costly, which begs the question is it worth paying the extra dollars for the improvement as measured on the PHQ-9 scale? It is likely that, unlike the Quality Adjusted Life Year (QALY) outcome measure, there is no commonly used value for money benchmark for improvements measured in PHQ-9. Similarly, if the potential funding for the intervention is from a budget that is allocated to non-depressive illnesses (e.g. physical health), a PHQ-9 based cost-effectiveness analysis is not readily comparable with economic evaluations of other interventions potentially competing for these scarce funds.</p></li>
<li><p>A cost consequence analyses that summarised the differences in costs with the differences in changes in PHQ-9 and SOFAS score would be difficult to interpret because while the intervention is more effective than control for improvements measured on PHQ-9 (where lower scores are better), the control group is superior if benefits are based on functioning improvements as measured by SOFAS scores (where higher scores are better). The lack of any formal weighting for how to trade off clinical symptoms and functioning means that interpretation of this analysis will be highly subjective and likely to change across potential decision makers.</p></li>
</ul>
<p>These types of short-comings can be significantly addressed by undertaking cost-utility analyses (CUAs) as:</p>
<ul>
<li>they use a measure of benefit - the QALY - that captures multiple domains of health, weighted by time and population preferences in a single index measure that can be applied across health conditions;</li>
<li>there are published benchmark willingness to pay values for use by decision makers in many countries to make ICER statistics readily interpretable.</li>
</ul>
<p>The rest of this article demonstrates how youthu functions can be used to undertake CUA based analyses on the type of data we have just profiled.</p>
</div>
<div id="using-youthu-in-a-cost-utility-analysis-workflow" class="section level2">
<h2 class="hasAnchor">
<a href="#using-youthu-in-a-cost-utility-analysis-workflow" class="anchor"></a>Using youthu in a cost-utility analysis workflow</h2>
<p>Our first step is to identify which youthu models we will use to predict adolescent AQoL-6D and apply these models to our data. This step was explained in more detail in <a href="Prediction_With_Mdls.html">another vignette article</a>, so will be dealt with briefly here.</p>
<p>First we retrieve the model we wish to use.</p>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">candidate_mdls_tb</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/get_mdls_using_predrs.html">get_mdls_using_predrs</a></span><span class="op">(</span><span class="va">predictors_lup</span><span class="op">$</span><span class="va">short_name_chr</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">5</span>,<span class="fl">7</span><span class="op">)</span><span class="op">]</span><span class="op">)</span></code></pre></div>
<pre><code>## New names:
## * `` -&gt; ...1
## * `` -&gt; ...2
## * `` -&gt; ...3</code></pre>
<div class="sourceCode" id="cb18"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">model_mdl</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/get_mdl_from_dv.html">get_mdl_from_dv</a></span><span class="op">(</span><span class="va">candidate_mdls_tb</span><span class="op">$</span><span class="va">mdl_nms_chr</span><span class="op">[</span><span class="fl">4</span><span class="op">]</span><span class="op">)</span></code></pre></div>
<p>We then use that model to predict health utility from the measures in our dataset.</p>
<div class="sourceCode" id="cb19"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">econ_cmprsn_ds_tb</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/add_aqol6d_predn_to_ds.html">add_aqol6d_predn_to_ds</a></span><span class="op">(</span>data_tb <span class="op">=</span> <span class="va">matched_ds_tb</span>,
                                   model_mdl <span class="op">=</span> <span class="va">model_mdl</span>,
                                   tfmn_1L_chr <span class="op">=</span> <span class="fu"><a href="../reference/get_tfmn_from_lup.html">get_tfmn_from_lup</a></span><span class="op">(</span><span class="va">candidate_mdls_tb</span><span class="op">$</span><span class="va">mdl_nms_chr</span><span class="op">[</span><span class="fl">4</span><span class="op">]</span><span class="op">)</span>,
                                   utl_var_nm_1L_chr <span class="op">=</span> <span class="va">ds_smry_ls</span><span class="op">$</span><span class="va">utl_var_nm_1L_chr</span>,
                                   id_var_nm_1L_chr <span class="op">=</span> <span class="va">ds_smry_ls</span><span class="op">$</span><span class="va">id_var_nm_1L_chr</span>,
                                   round_var_nm_1L_chr <span class="op">=</span> <span class="va">ds_smry_ls</span><span class="op">$</span><span class="va">round_var_nm_1L_chr</span>,
                                   round_bl_val_1L_chr <span class="op">=</span> <span class="va">ds_smry_ls</span><span class="op">$</span><span class="va">round_lvls_chr</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html">select</a></span><span class="op">(</span><span class="va">fkClientID</span>, <span class="va">round</span>, <span class="va">study_arm_chr</span>, <span class="va">date_psx</span>, <span class="va">duration_prd</span>, <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://tidyselect.r-lib.org/reference/everything.html">everything</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<pre><code>## Joining, by = c("fkClientID", "round")</code></pre>
<div class="sourceCode" id="cb21"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">econ_cmprsn_ds_tb</span> <span class="op">%&gt;%</span> <span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span><span class="op">(</span><span class="op">)</span> <span class="op">%&gt;%</span>
    <span class="fu">ready4show</span><span class="fu">::</span><span class="fu"><a href="https://ready4-dev.github.io/ready4show/reference/print_table.html">print_table</a></span><span class="op">(</span>output_type_1L_chr <span class="op">=</span> <span class="st">"HTML"</span>,
                          caption_1L_chr <span class="op">=</span> <span class="st">"Updated dataset with predicted utility"</span>, 
                          use_lbls_as_col_nms_1L_lgl <span class="op">=</span> <span class="cn">T</span><span class="op">)</span></code></pre></div>
<table class="table  lightable-paper lightable-hover">
<caption>
Updated dataset with predicted utility
</caption>
<thead><tr>
<th style="text-align:left;">
fkClientID
</th>
<th style="text-align:right;">
round
</th>
<th style="text-align:right;">
study_arm_chr
</th>
<th style="text-align:right;">
date_psx
</th>
<th style="text-align:right;">
duration_prd
</th>
<th style="text-align:right;">
PHQ9
</th>
<th style="text-align:left;">
SOFAS
</th>
<th style="text-align:right;">
AQoL6D_HU
</th>
<th style="text-align:right;">
costs_dbl
</th>
<th style="text-align:right;">
match_idx_int
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:left;">
Participant_249
</td>
<td style="text-align:right;">
Baseline
</td>
<td style="text-align:right;">
Control
</td>
<td style="text-align:right;">
2020-05-22
</td>
<td style="text-align:right;">
0S
</td>
<td style="text-align:right;">
6
</td>
<td style="text-align:left;">
72
</td>
<td style="text-align:right;">
0.8100511
</td>
<td style="text-align:right;">
590.4327
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:left;">
Participant_617
</td>
<td style="text-align:right;">
Baseline
</td>
<td style="text-align:right;">
Intervention
</td>
<td style="text-align:right;">
2020-05-19
</td>
<td style="text-align:right;">
0S
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:left;">
76
</td>
<td style="text-align:right;">
0.9002824
</td>
<td style="text-align:right;">
651.1134
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:left;">
Participant_249
</td>
<td style="text-align:right;">
Follow-up
</td>
<td style="text-align:right;">
Control
</td>
<td style="text-align:right;">
2020-08-25
</td>
<td style="text-align:right;">
95d 0H 0M 0S
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:left;">
80
</td>
<td style="text-align:right;">
0.9020027
</td>
<td style="text-align:right;">
1378.1317
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:left;">
Participant_617
</td>
<td style="text-align:right;">
Follow-up
</td>
<td style="text-align:right;">
Intervention
</td>
<td style="text-align:right;">
2020-08-13
</td>
<td style="text-align:right;">
86d 0H 0M 0S
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:left;">
81
</td>
<td style="text-align:right;">
0.9287613
</td>
<td style="text-align:right;">
2125.6167
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:left;">
Participant_98
</td>
<td style="text-align:right;">
Baseline
</td>
<td style="text-align:right;">
Control
</td>
<td style="text-align:right;">
2020-05-10
</td>
<td style="text-align:right;">
0S
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:left;">
80
</td>
<td style="text-align:right;">
0.9390503
</td>
<td style="text-align:right;">
412.4017
</td>
<td style="text-align:right;">
2
</td>
</tr>
<tr>
<td style="text-align:left;">
Participant_1043
</td>
<td style="text-align:right;">
Baseline
</td>
<td style="text-align:right;">
Intervention
</td>
<td style="text-align:right;">
2020-09-15
</td>
<td style="text-align:right;">
0S
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:left;">
57
</td>
<td style="text-align:right;">
0.8444558
</td>
<td style="text-align:right;">
651.8714
</td>
<td style="text-align:right;">
2
</td>
</tr>
</tbody>
<tfoot><tr>
<td style="padding: 0; " colspan="100%">
<sup></sup>
</td>
</tr></tfoot>
</table>
<p>Next we combine the health utility data with the interval between measurement data to calculate QALYs and add them to the dataset.</p>
<div class="sourceCode" id="cb22"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">econ_cmprsn_ds_tb</span>  <span class="op">&lt;-</span> <span class="va">econ_cmprsn_ds_tb</span> <span class="op">%&gt;%</span> <span class="fu"><a href="../reference/add_qalys_to_ds.html">add_qalys_to_ds</a></span><span class="op">(</span>ds_smry_ls <span class="op">=</span> <span class="va">ds_smry_ls</span><span class="op">)</span></code></pre></div>
<div class="sourceCode" id="cb23"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">econ_cmprsn_ds_tb</span> <span class="op">%&gt;%</span> <span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span><span class="op">(</span><span class="op">)</span> <span class="op">%&gt;%</span>
    <span class="fu">ready4show</span><span class="fu">::</span><span class="fu"><a href="https://ready4-dev.github.io/ready4show/reference/print_table.html">print_table</a></span><span class="op">(</span>output_type_1L_chr <span class="op">=</span> <span class="st">"HTML"</span>,
                          caption_1L_chr <span class="op">=</span> <span class="st">"Updated dataset with QALYs"</span>, 
                          use_lbls_as_col_nms_1L_lgl <span class="op">=</span> <span class="cn">T</span><span class="op">)</span></code></pre></div>
<table class="table  lightable-paper lightable-hover">
<caption>
Updated dataset with QALYs
</caption>
<thead><tr>
<th style="text-align:left;">
fkClientID
</th>
<th style="text-align:right;">
study_arm_chr
</th>
<th style="text-align:right;">
match_idx_int
</th>
<th style="text-align:right;">
date_psx_Baseline
</th>
<th style="text-align:right;">
date_psx_Follow-up
</th>
<th style="text-align:right;">
duration_prd_Baseline
</th>
<th style="text-align:left;">
duration_prd_Follow-up
</th>
<th style="text-align:right;">
PHQ9_Baseline
</th>
<th style="text-align:right;">
PHQ9_Follow-up
</th>
<th style="text-align:right;">
SOFAS_Baseline
</th>
<th style="text-align:right;">
SOFAS_Follow-up
</th>
<th style="text-align:right;">
AQoL6D_HU_Baseline
</th>
<th style="text-align:left;">
AQoL6D_HU_Follow-up
</th>
<th style="text-align:right;">
costs_dbl_Baseline
</th>
<th style="text-align:right;">
costs_dbl_Follow-up
</th>
<th style="text-align:right;">
PHQ9_change_dbl_Baseline
</th>
<th style="text-align:right;">
PHQ9_change_dbl_Follow-up
</th>
<th style="text-align:right;">
SOFAS_change_dbl_Baseline
</th>
<th style="text-align:left;">
SOFAS_change_dbl_Follow-up
</th>
<th style="text-align:right;">
AQoL6D_HU_change_dbl_Baseline
</th>
<th style="text-align:right;">
AQoL6D_HU_change_dbl_Follow-up
</th>
<th style="text-align:right;">
qalys_dbl_Baseline
</th>
<th style="text-align:right;">
qalys_dbl_Follow-up
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:left;">
Participant_10
</td>
<td style="text-align:right;">
Control
</td>
<td style="text-align:right;">
280
</td>
<td style="text-align:right;">
2020-06-18
</td>
<td style="text-align:right;">
2020-09-26
</td>
<td style="text-align:right;">
0S
</td>
<td style="text-align:left;">
100d 0H 0M 0S
</td>
<td style="text-align:right;">
17
</td>
<td style="text-align:right;">
17
</td>
<td style="text-align:right;">
60
</td>
<td style="text-align:right;">
64
</td>
<td style="text-align:right;">
0.4853908
</td>
<td style="text-align:left;">
0.4997792
</td>
<td style="text-align:right;">
240.8047
</td>
<td style="text-align:right;">
1736.914
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:left;">
4
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0.0143885
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0.1348624
</td>
</tr>
<tr>
<td style="text-align:left;">
Participant_1000
</td>
<td style="text-align:right;">
Intervention
</td>
<td style="text-align:right;">
78
</td>
<td style="text-align:right;">
2020-08-19
</td>
<td style="text-align:right;">
2020-11-15
</td>
<td style="text-align:right;">
0S
</td>
<td style="text-align:left;">
88d 0H 0M 0S
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
71
</td>
<td style="text-align:right;">
66
</td>
<td style="text-align:right;">
0.9135842
</td>
<td style="text-align:left;">
0.9021119
</td>
<td style="text-align:right;">
183.9285
</td>
<td style="text-align:right;">
1876.192
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:left;">
-5
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
-0.0114722
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0.2187286
</td>
</tr>
<tr>
<td style="text-align:left;">
Participant_1001
</td>
<td style="text-align:right;">
Intervention
</td>
<td style="text-align:right;">
13
</td>
<td style="text-align:right;">
2020-06-20
</td>
<td style="text-align:right;">
2020-09-22
</td>
<td style="text-align:right;">
0S
</td>
<td style="text-align:left;">
94d 0H 0M 0S
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
79
</td>
<td style="text-align:right;">
73
</td>
<td style="text-align:right;">
0.9364913
</td>
<td style="text-align:left;">
0.9249085
</td>
<td style="text-align:right;">
310.5453
</td>
<td style="text-align:right;">
1807.720
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:left;">
-6
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
-0.0115828
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0.2395230
</td>
</tr>
<tr>
<td style="text-align:left;">
Participant_1003
</td>
<td style="text-align:right;">
Intervention
</td>
<td style="text-align:right;">
220
</td>
<td style="text-align:right;">
2020-07-21
</td>
<td style="text-align:right;">
2020-11-02
</td>
<td style="text-align:right;">
0S
</td>
<td style="text-align:left;">
104d 0H 0M 0S
</td>
<td style="text-align:right;">
17
</td>
<td style="text-align:right;">
15
</td>
<td style="text-align:right;">
64
</td>
<td style="text-align:right;">
60
</td>
<td style="text-align:right;">
0.5058383
</td>
<td style="text-align:left;">
0.5205984
</td>
<td style="text-align:right;">
281.5288
</td>
<td style="text-align:right;">
1880.910
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
-2
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:left;">
-4
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0.0147601
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0.1461320
</td>
</tr>
<tr>
<td style="text-align:left;">
Participant_1005
</td>
<td style="text-align:right;">
Control
</td>
<td style="text-align:right;">
221
</td>
<td style="text-align:right;">
2020-06-16
</td>
<td style="text-align:right;">
2020-09-06
</td>
<td style="text-align:right;">
0S
</td>
<td style="text-align:left;">
82d 0H 0M 0S
</td>
<td style="text-align:right;">
17
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
72
</td>
<td style="text-align:right;">
70
</td>
<td style="text-align:right;">
0.5477666
</td>
<td style="text-align:left;">
0.7814608
</td>
<td style="text-align:right;">
241.7786
</td>
<td style="text-align:right;">
1854.775
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
-16
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:left;">
-2
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0.2336942
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0.1492083
</td>
</tr>
<tr>
<td style="text-align:left;">
Participant_1006
</td>
<td style="text-align:right;">
Control
</td>
<td style="text-align:right;">
122
</td>
<td style="text-align:right;">
2020-09-07
</td>
<td style="text-align:right;">
2020-12-15
</td>
<td style="text-align:right;">
0S
</td>
<td style="text-align:left;">
99d 0H 0M 0S
</td>
<td style="text-align:right;">
18
</td>
<td style="text-align:right;">
15
</td>
<td style="text-align:right;">
67
</td>
<td style="text-align:right;">
68
</td>
<td style="text-align:right;">
0.4979512
</td>
<td style="text-align:left;">
0.5460198
</td>
<td style="text-align:right;">
412.2067
</td>
<td style="text-align:right;">
1379.244
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
-3
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:left;">
1
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0.0480686
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0.1414827
</td>
</tr>
</tbody>
<tfoot><tr>
<td style="padding: 0; " colspan="100%">
<sup></sup>
</td>
</tr></tfoot>
</table>
<p>Now we can run the main economic analysis. This is implemented by the <code class="sourceCode r">make_he_smry</code> function, which first bootstraps the dataset (implemented by the <code>boot</code> function from the <code>boot</code> package) before passing the mean values for costs and qalys from each bootstrap sample to with <code>bcea</code> function of the <code>BCEA</code> package to calculate a range of health economic statistics. For this example we pass a value of 50,000 for the willingness to pay parameter, as this is the dollar amount commonly used in Australia as a benchmark for the value of a QALY.</p>
<p>Note, for this illustrative example we only request 100 bootstrap iterations - in practice this number would be much higher.</p>
<div class="sourceCode" id="cb24"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">he_smry_ls</span> <span class="op">&lt;-</span> <span class="va">econ_cmprsn_ds_tb</span> <span class="op">%&gt;%</span> <span class="fu"><a href="../reference/make_he_smry.html">make_he_smry</a></span><span class="op">(</span>change_vars_chr <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="va">ds_smry_ls</span><span class="op">$</span><span class="va">predr_var_nms</span>,
                                                                     <span class="va">ds_smry_ls</span><span class="op">$</span><span class="va">utl_var_nm_1L_chr</span><span class="op">)</span>,
                                                 wtp_dbl <span class="op">=</span> <span class="fl">50000</span>,
                                                 bootstrap_iters_1L_int <span class="op">=</span> <span class="fl">100L</span>,
                                                 change_types_chr <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"dbl"</span>,<span class="st">"dbl"</span>,<span class="st">"dbl"</span><span class="op">)</span>,
                                                 benefits_pfx_1L_chr <span class="op">=</span> <span class="st">"qalys_dbl"</span>,
                                                 benefits_var_nm_1L_chr <span class="op">=</span> <span class="st">"qalys"</span>,
                                                 costs_pfx_1L_chr <span class="op">=</span> <span class="va">ds_smry_ls</span><span class="op">$</span><span class="va">costs_var_nm_1L_chr</span>,
                                                 costs_var_nm_1L_chr <span class="op">=</span> <span class="st">"costs"</span>,
                                                 change_sfx_1L_chr <span class="op">=</span> <span class="st">"change"</span>,
                                                 cmprsn_groups_chr <span class="op">=</span> <span class="va">ds_smry_ls</span><span class="op">$</span><span class="va">cmprsn_groups_chr</span>,
                                                 cmprsn_var_nm_1L_chr <span class="op">=</span> <span class="va">ds_smry_ls</span><span class="op">$</span><span class="va">cmprsn_var_nm_1L_chr</span>,
                                                 round_fup_1L_chr <span class="op">=</span> <span class="va">ds_smry_ls</span><span class="op">$</span><span class="va">round_lvls_chr</span><span class="op">[</span><span class="fl">2</span><span class="op">]</span><span class="op">)</span></code></pre></div>
<p>As part of the output of the <code class="sourceCode r">make_he_smry</code> function is a BCEA object, we can use the BCEA package to produce a number of graphical summaries of economic results. One of the most important is the production of a cost-effectiveness plane. This plot highlights that, with an ICER of $187,045.7, most of the bootstrapped iteration incremental cost and QALY pairs fall within the zone of cost-effectiveness (green). In fact at the cost-effectiveness threshold we supplied, our results suggest there is a 9% probability that the intervention is cost-effective.</p>
<div class="sourceCode" id="cb25"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu">BCEA</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/BCEA/man/ceplane.plot.html">ceplane.plot</a></span><span class="op">(</span><span class="va">he_smry_ls</span><span class="op">$</span><span class="va">ce_res_ls</span>, wtp <span class="op">=</span><span class="fl">50000</span>,    
                   area_color <span class="op">=</span> <span class="st">"green"</span>,
                    graph <span class="op">=</span> <span class="st">"ggplot2"</span>,
          theme <span class="op">=</span> <span class="fu">ggplot2</span><span class="fu">::</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html">theme_light</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<p><img src="Economic_Analysis_files/figure-html/unnamed-chunk-16-1.png" width="576"></p>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p>Developed by Matthew Hamilton, Caroline Gao, Orygen, Headspace, National Health and Medical Research Council.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
